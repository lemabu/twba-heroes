<link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html"><link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-from-bottom.html"><link rel="import" href="../hero-card/hero-card.html"><link rel="import" href="../hero-details/hero-details.html"><polymer-element name="hero-app" attributes="heroes ttabac" vertical layout>  <template>    <style>      :host{        display:block;      }    </style>    <core-animated-pages id="centerstage" transitions="hero-transition cross-fade" selected="{{page}}" on-core-animated-pages-transition-prepare="{{prep}}" on-core-animated-pages-transition-end="{{animationComplete}}">      <section name="list">        <div layout horizontal center center-justified wrap style="width:100%;">          <template repeat="{{hero in heroes}}">            <hero-card hero hero-id="hero-card-{{hero._id}}" selecedHero="{{selecedHero}}" myHero="{{hero}}" autoraise="true"></hero-card>          </template>        </div>      </section>      <section name="details">        <div layout horizontal  center-justified>          <hero-details flex hero hero-id="hero-card-{{selecedHero._id}}" myHero={{selecedHero}}></hero-details>        </div>     <!--      <div>        <div on-tap="{{testSwitch}}" style="height: 100px; width: 100px; background-color: blue;" hero hero-id="hero-card-{{currentHero._id}}"></div>        <div cross-fade style="width: 200px; height: 200px; background-color: red;"></div>      </div>-->      </section>    </core-animated-pages>  </template>  <script>    Polymer("hero-app",{      selecedHero:null,      selectedTest:0,      resetSelectedHeroAfterAnimation: false,      page: "list",      prep: function(a,b,c) {        console.log("Prep");      },      observe: {        "selecedHero": 'handleStateChange'      },      testSwitch:function() {        console.log("SWITCH from " + this.page);        if (this.page === "list") {          this.page="details";          console.log(this.page);        } else {          this.resetSelectedHeroAfterAnimation=true;          this.page="list";          console.log(this.page);        }      },      reset: function() {        this.page="list";        this.selecedHero=null;      },      handleStateChange: function(o,n) {        if(n != null) {          this.page="details";        }      },      animationComplete: function(a,b,c) {        if (this.resetSelectedHeroAfterAnimation===true) {          console.log("Resetting");          this.selecedHero = null;          this.resetSelectedHeroAfterAnimation=false;        }        console.log("Anim ok");      },      menuTap: function(a,b,c) {        if(this.page != "list") {          this.resetSelectedHeroAfterAnimation=true;          this.page = "list";        }      }    });  </script></polymer-element>